{% extends 'base.html' %}
{% load static %}

<!-- checker/view_response.html -->

{% block title %}
  Procedure Responses
{% endblock %}

{% block style_content %}
  <link rel="stylesheet" href="{% static 'checker/view_response.css' %}" />
  <link rel="stylesheet" href="{% static 'checker/response.css' %}" />
  <link rel="stylesheet" href="{% static 'user/sidebar.css' %}" />
{% endblock %}

{% block type %}
  <h1><a href="{% url 'checker_index' %}?user_id={{ user.id }}">CMS</a></h1>
{% endblock %}

{% block navigation %}
  {% include 'checker/includes/sidemenu.html' %}
{% endblock %}

{% block sidebar %}
  {% include 'checker/includes/sidebar.html' %}
{% endblock %}

{% block body_content %}
  <section id="procedure_table">
    <header>
      <h2>Responses</h2>
    </header>

    <table>
      <thead>
        <tr>
          <th>Question</th>
          <th>Response</th>
        </tr>
      </thead>
      <tbody>
        {% for response in responses %}
          <tr>
            <td>{{ response.question.question_text }}</td>
            <td>{{ response.response }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="button-container">
      {% if procedure.return_count == 0 %}
        <a href="{% url 'my_procedures' %}?user_id={{ procedure.checker.id }}"><button>Go Back</button></a>
      {% else %}
        <a href="{% url 'checkers_returned' %}?user_id={{ procedure.checker.id }}"><button>Go Back</button></a>
      {% endif %}
      <a href="{% url 'edit_response' %}?user_id={{ procedure.checker.id }}&procedure_id={{ procedure.id }}"><button>Edit</button></a>
    </div>
  </section>
{% endblock %}
